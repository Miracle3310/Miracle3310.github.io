---
title: hexo的坑
date: 2020-03-20 02:21:39
tags:
---
## Github同步
hexo自带的`hexo d`能将本地文件上传到github上，然后实现网页更新。但是上传的其实是输入`hexo d`后生成的 **/.deploy_git**文件夹，整个源文件并没有上传到github。这就导致未来多设备更新网页的不便。一个常见的解决办法是新建分支，利用git将源文件保存到新分支上（将整个项目当成普通工程用git来管理）。不过这就意味着每次`hexo d`后都要再做一遍`git push`的操作，才能达到备份的效果，有点不够直接。知乎上的[这个回答](https://www.zhihu.com/question/21193762/answer/172097576)非常简单的解决了同步的功能。

不过这个回答的细节没有写得很清楚，还是让silly me折腾了一会儿。关键在于：按照他的方法上传后，其实从我们新建的那个库就可以直接重现网页。

首先在github上设置新增的分支为默认分支。然后假设我们在一台新电脑上，想要修改网页。那么在工作文件夹目录下输入

    git clone yourRepositoryURL 

然后试试在克隆下的文件下直接`hexo g`或者`hexo d`。应该是失败的，但是会给出报错消息，提示你输入

    npm install ...(我忘了)
按它说的做，然后再试试`hexo d`，现在应该能成功上传了。这就说明我们已经可以在这台新设备上开始干活了！

### 同步报错
按照上述方法，现在我们输入`hexo d`准备同步了，但是突然发现有报错！


## 免密登录